# سند نیازمندی‌های نرم‌افزار (SRS) سامانه مدیریت درمانگاه

## ✅ بخش اول: اهداف و دامنه پروژه

### 🎯 هدف اصلی سیستم چیست؟

مدیریت کامل فرآیندهای داخلی درمانگاه از جمله نوبت‌دهی، ثبت پرونده پزشکی، نسخه‌نویسی، مدیریت داروخانه، و ارتباط با بیمار به‌صورت یکپارچه. (تمرکز اصلی بر سامانه مدیریت درمانگاه‌ها است، نه صرفاً نوبت‌دهی عمومی.)

### 🏥 سیستم برای چند درمانگاه طراحی شده؟

سامانه multi-clinic است؛ یعنی قابلیت تعریف و مدیریت چند درمانگاه را دارد. هر کاربر تنها به یک درمانگاه وابسته است.

### 📱 آیا نسخه موبایل یا اپلیکیشن هم در برنامه هست؟

در فاز اول فقط نسخه وب توسعه داده می‌شود. طراحی اپلیکیشن موبایل در چشم‌انداز آینده پروژه لحاظ شده است.

### 👥 چه نوع کاربران یا نقش‌هایی در سیستم وجود دارند؟

* ناظر کل (supervisor): ایجاد درمانگاه و تأیید دارو
* مدیر درمانگاه
* پزشک
* مدیر داروخانه
* مدیر آزمایشگاه
* بیمار

(نقش منشی هنوز در نسخه فعلی پیاده‌سازی نشده ولی در آینده قابل اضافه‌شدن است.)

### 🎭 آیا همه کاربران ابتدا "user" هستند؟

بله. کاربران ابتدا با نقش "user" وارد می‌شوند و نقش نهایی آن‌ها باید توسط مدیر یا ناظر کل تعیین شود.

### 🔒 آیا کاربران می‌توانند چند نقش داشته باشند؟

خیر. هر کاربر در حال حاضر فقط یک نقش دارد.

---

## ✅ بخش دوم: فرآیندها و جریان کاری

### 📅 روند تعریف نوبت چگونه است؟

پزشک برنامه هفتگی نوبت‌دهی خود را ثبت می‌کند. بیماران با مشاهده این برنامه می‌توانند نوبت رزرو کنند.

### 🧾 چه کسی نسخه صادر می‌کند؟

فقط پزشک قادر به صدور نسخه است.

* نسخه نیازی به تأیید ناظر ندارد.
* اما بیمار می‌تواند آن را داوطلبانه برای بررسی به ناظر ارسال کند.

### 💊 داروها چگونه مدیریت می‌شوند؟

* ثبت دارو توسط مدیر داروخانه انجام می‌شود.
* تأیید داروها تنها توسط ناظر کل انجام می‌شود.
* داروهای تأییدنشده قابل استفاده در نسخه‌ها و فروشگاه داروخانه نیستند.

### 🛒 فرآیند خرید دارو توسط بیمار چگونه است؟

* بیمار با استفاده از شماره نسخه داروهای تجویزشده را در سبد خرید خود مشاهده می‌کند.
* تنها داروهای دارای نسخه قابل خرید هستند.
* برخی داروها (مثل مکمل‌ها یا ویتامین‌ها) به‌صورت آزاد نیز قابل خرید هستند.
* بیمار مجبور به خرید از درمانگاه نیست و می‌تواند دارو را از بیرون تهیه کند.
* در آینده با افزودن سیستم یادآور (Notification/SMS)، مصرف دارو بر اساس شرایط خاص مثل ناشتا بودن، ساعت دقیق مصرف و ... هشدار داده خواهد شد.

### 📂 ثبت و مشاهده جواب آزمایش/تصویربرداری چگونه است؟

* پزشک می‌تواند در نسخه درخواست آزمایش یا تصویربرداری ثبت کند.
* مسئول آزمایشگاه نتیجه را ثبت و فایل آن را (PDF یا تصویر) آپلود می‌کند.
* فایل به پرونده بیمار ضمیمه می‌شود.
* پزشک، بیمار و مدیر درمانگاه به این فایل دسترسی دارند.

---

## ✅ بخش سوم: محدودیت‌ها و سیاست‌ها

### ⭐ محدودیت برای امتیازدهی و نظردهی چیست؟

* فقط بیمارانی که نوبت داشته‌اند می‌توانند امتیاز بدهند.
* هر بیمار فقط یک‌بار برای هر پزشک یا دارو می‌تواند نظر بدهد.
* امتیازدهی شامل نمره عددی (۰ تا ۵) و نظر متنی است.
* در صورت امتیاز پایین (۰ تا ۲)، دلایل منفی باید از لیست انتخاب شوند. در امتیازهای بالا (۳ تا ۵) نیز موارد مثبت باید انتخاب شوند.

### 📦 نحوه مدیریت موجودی دارو چگونه است؟

* موجودی دارو برای هر درمانگاه به‌صورت جداگانه ذخیره می‌شود.
* هنگام ثبت نسخه یا فروش دارو، موجودی به‌روزرسانی می‌شود.

### 🧑‍💼 ناظر کل چه دسترسی‌هایی دارد؟

* ایجاد درمانگاه جدید و تعیین مدیر آن
* تأیید داروها
* مشاهده نسخه‌های ارسال‌شده
* مشاهده گزارش‌های کلی سیستم

### 🔐 کدام داده‌ها نیاز به رمزنگاری دارند؟

* رمز عبور کاربران (هش‌شده)
* توکن JWT
* فایل‌های آزمایش و مدارک پزشکی (با مسیر محافظت‌شده)
* اطلاعات پزشکی محرمانه در پرونده بیماران

### 📌 چه فرضیاتی برای پروژه داریم؟

* کاربران به اینترنت پایدار و مرورگر به‌روز دسترسی دارند.
* آموزش اولیه به کاربران تخصصی (مدیران، پزشکان) داده شده است.
* ناظر کل مدیر درمانگاه را مشخص می‌کند، و مدیر درمانگاه مسئول تعیین نقش‌های دیگر در درمانگاه است (پزشک، داروخانه، آزمایشگاه و...)

---

## ✅ بخش چهارم: جزئیات فنی و توسعه

### 🧠 فرانت‌اند با چه تکنولوژی پیاده می‌شود؟

* ReactJS
* TailwindCSS
* Axios / fetch
* احتمال استفاده از Redux در صورت نیاز به مدیریت پیچیده وضعیت

### ⚙️ بک‌اند با چه تکنولوژی پیاده می‌شود؟

* Node.js با Express برای ساخت APIهای RESTful

* MongoDB به‌عنوان پایگاه داده اصلی (NoSQL)

* طراحی پایگاه داده به‌صورت مبتنی بر اسناد (Document-Oriented)

* استفاده از Mongoose برای مدل‌سازی و اعتبارسنجی داده‌ها

* مدیریت روابط بین جداول با استفاده از ارجاع‌ها (Reference IDs) و در برخی موارد تعبیه (Embedded Documents) بسته به نوع ارتباط (مثلاً نسخه و داروها)

* زبان برنامه‌نویسی: JavaScript

* در نسخه‌های آینده، احتمال مهاجرت به TypeScript برای افزایش پایداری و ایمنی تایپی وجود دارد

### ✅ تست نرم‌افزار چگونه انجام می‌شود؟

* در فاز اول فقط تست دستی با Postman انجام می‌شود.
* در آینده تست‌های واحد (unit test) و تست یکپارچه (integration test) با Jest یا Supertest پیاده‌سازی خواهد شد.

### 🗂️ نحوه آپلود فایل چگونه است؟

* در فاز اول فایل‌ها در فایل‌سیستم سرور ذخیره می‌شوند.
* در آینده احتمال استفاده از Cloudinary یا فضای ذخیره‌سازی ابری وجود دارد.

---

## ✅ بخش پنجم: گسترش‌پذیری و چشم‌انداز آینده

### 📊 آیا سیستم گزارش‌گیری در فاز فعلی وجود دارد؟

* فقط گزارش‌های پایه‌ای مانند لیست نسخه‌ها و نوبت‌ها در فاز اول پیاده‌سازی می‌شود.
* گزارش‌های آماری، نموداری، و داشبورد در فازهای آینده توسعه خواهند یافت.

### 🚀 قابلیت‌های موردنظر برای توسعه آینده:

* ارسال پیامک یادآوری نوبت یا مصرف دارو
* اتصال به درگاه پرداخت آنلاین برای هزینه ویزیت یا دارو
* اتصال به سامانه بیمه و بررسی پوشش خدمات
* توسعه اپلیکیشن موبایل برای بیماران و پزشکان
* داشبورد مدیریتی و تحلیلی برای ناظر و مدیران درمانگاه‌ها

---

> در صورت نیاز به افزودن سناریوهای کاری، مدل‌های داده، یا فایل‌های ضمیمه (ERD، وایرفریم و...) در نسخه‌های بعدی سند، لطفاً اطلاع دهید.